/*
 *
 * FocalTech fts TouchScreen driver.
 *
 * Copyright (c) 2012-2019, Focaltech Ltd. All rights reserved.
 *
 * This software is licensed under the terms of the GNU General Public
 * License version 2, as published by the Free Software Foundation, and
 * may be copied, distributed, and modified under those terms.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 */

/*****************************************************************************
*
* File Name: focaltech_upgrade_ft8006m.c
*
* Author: Focaltech Driver Team
*
* Created: 2016-12-29
*
* Abstract:
*
* Reference:
*
*****************************************************************************/

/*****************************************************************************
* 1.Included header files
*****************************************************************************/
#include "../focaltech_flash.h"

/*****************************************************************************
* Global variable or extern global variabls/functions
*****************************************************************************/
u8 pb_file_ft8006m[] = {
	0x60,0x00,0x00,0x00,0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,
0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,
0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,
0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,
0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,
0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,0x98,0x06,0x00,0x00,
0x00,0x3c,0x60,0xe0,0x60,0xe0,0x02,0xcc,0x00,0xea,0x10,0x3c,0x3f,0xe0,0x03,0xc8,
0x00,0xfa,0x7c,0xc8,0x00,0xf0,0x82,0xcf,0x00,0xe0,0x80,0xcf,0x60,0xe0,0x00,0x14,
0x00,0xea,0x17,0x3c,0x00,0xe0,0x02,0xcc,0x24,0xe0,0x00,0xcc,0x79,0x3c,0x9c,0x14,
0x00,0xea,0x08,0x01,0x01,0xe0,0x02,0xcd,0x28,0x3d,0x0c,0xcd,0x42,0xd8,0x00,0xe0,
0x6c,0x14,0x0c,0xe0,0x00,0x00,0x02,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x57,0xed,0xa8,0x12,0x2c,0x49,0xd3,0xb6,0xa6,0x29,0x59,0xd6,0xfe,0x01,0x72,0x8d,
0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xfe,0x01,0x00,0x00,0xc6,0x80,0x00,0x00,
0xff,0x00,0x8f,0x70,0xa3,0x08,0x72,0x8d,0xa9,0x02,0x63,0x48,0xfe,0x01,0x8d,0x72,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xfe,0x01,0xff,0xff,
0x38,0x53,0x54,0x46,0x50,0x36,0x30,0x30,0x00,0x31,0x30,0x30,0xff,0xff,0xff,0xff,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0x00,0x31,0x30,0x30,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0x30,0x38,0x54,0x46,0x50,0x5f,0x36,0x30,0x62,0x6d,0x61,0x72,0x5f,0x74,0x6f,0x6f,
0x36,0x2e,0x31,0x56,0x72,0x70,0x41,0x5f,0x20,0x36,0x32,0x20,0x38,0x31,0x30,0x32,
0xef,0x17,0x7c,0xc0,0x02,0xe8,0x87,0x6f,0x00,0xe2,0x9c,0x4f,0x30,0x01,0xea,0xcf,
0x00,0xe2,0x94,0x02,0x25,0x01,0x85,0xcf,0xe6,0xcf,0x00,0xe2,0x00,0xe2,0x26,0x01,
0x87,0x01,0x83,0xcf,0xaa,0x67,0x02,0xe8,0x01,0xe0,0x1f,0x3c,0x07,0x6c,0x08,0x8c,
0x6f,0x3c,0x87,0x4f,0x82,0x38,0x04,0xc0,0xb3,0xcf,0x01,0xe2,0x01,0xe2,0x74,0x01,
0x13,0x01,0xcc,0xcf,0x90,0xcf,0x01,0xe2,0x05,0x2c,0xf4,0x01,0xd4,0x4f,0x00,0xe8,
0xef,0x00,0x87,0x6f,0x01,0xcc,0x00,0xe2,0x00,0xe8,0xec,0x01,0xf9,0x00,0xd5,0x4f,
0x00,0xe8,0x68,0x2c,0xf5,0x00,0xc6,0x4f,0xa0,0x4f,0x02,0xe8,0x05,0x2c,0xf2,0x00,
0x88,0x5f,0x01,0xe8,0xed,0x00,0xc8,0x37,0x01,0xcc,0x00,0xe2,0x01,0xe8,0xda,0x01,
0xe7,0x00,0x88,0x5f,0x02,0xe8,0x00,0x17,0x02,0xe8,0x1e,0x6f,0x00,0xe2,0x9c,0x4f,
0x02,0xe0,0xe5,0xcf,0xb2,0x02,0x4f,0x01,0x89,0xcf,0x00,0xe2,0x3b,0x01,0x02,0xe0,
0x00,0xe2,0x96,0x02,0x01,0xe0,0x83,0xcf,0x88,0x02,0x5f,0x01,0x81,0xcf,0x00,0xe2,
0x01,0x17,0x8d,0x01,0x1e,0x6f,0x02,0xe8,0x00,0xe2,0x89,0x00,0x02,0xe0,0x85,0xcf,
0x00,0xe2,0x0c,0x01,0x02,0xe0,0x87,0xcf,0x82,0x38,0x12,0x01,0xd5,0xcf,0x00,0xe2,
0x87,0x02,0x27,0x01,0x90,0xcf,0x00,0xe2,0x02,0xe8,0xf9,0x01,0xf6,0x00,0x92,0x6c,
0xe1,0xcf,0x00,0xe2,0x4b,0x01,0x02,0xe0,0xe4,0xcf,0x00,0xe2,0x02,0xe8,0xef,0x01,
0x80,0x17,0x20,0x6f,0xc0,0x7f,0x00,0xe8,0x01,0xe2,0xe9,0x00,0x00,0xe0,0xb0,0xcf,
0x91,0x02,0x43,0x01,0xea,0xcf,0x00,0xe2,0x84,0x02,0x55,0x01,0xe6,0xcf,0x00,0xe2,
0x01,0xe2,0xd0,0x00,0x29,0x01,0x90,0xcf,0xaa,0xcf,0x01,0xe2,0x02,0xe8,0xd7,0x01,
0xd4,0x00,0x20,0x6f,0xb3,0xcf,0x01,0xe2,0x1e,0x01,0x01,0xe0,0x01,0xe2,0x97,0x02,
0xcc,0x01,0xb2,0xcf,0x05,0xcc,0x00,0xe2,0xe6,0x02,0x00,0xe0,0x8e,0x7f,0x06,0xea,
0xfe,0xc7,0xff,0xe9,0x1f,0x3c,0x21,0x34,0x1f,0x3c,0x08,0x94,0x7c,0xff,0x02,0x3c,
0x4c,0x01,0x2a,0x01,0x98,0x00,0x8a,0x00,0x01,0xe2,0xa4,0x00,0x6b,0x01,0xbf,0xcf,
0xcc,0xcf,0x01,0xe2,0xa6,0x00,0xff,0xe7,0x03,0xcc,0x00,0xe2,0xaf,0x02,0xff,0xe7,
0x90,0x1f,0x00,0xe0,0x20,0x6f,0x02,0xe8,0x8f,0xac,0x98,0x3f,0x1b,0x24,0xff,0xe7,
0xa5,0x00,0xff,0xe7,0x03,0xcc,0x00,0xe2,0xa1,0x02,0xff,0xe7,0xdc,0x7f,0x06,0xea,
0xfe,0xc7,0xff,0xe9,0x08,0x8c,0x1f,0x3c,0x02,0x3c,0x1f,0x3c,0x26,0x16,0x04,0x04,
0x01,0xe8,0x80,0x17,0x01,0xe8,0x87,0x77,0x02,0xe8,0x86,0x77,0xff,0xe7,0xa0,0x6f,
0x01,0xe8,0x8e,0x00,0xa8,0x34,0x87,0x5f,0x01,0xe8,0x9f,0x3c,0xff,0xe7,0x87,0x74,
0x01,0xe8,0x86,0x00,0x00,0x17,0x87,0x5f,0x86,0x17,0x9f,0x3c,0x87,0x74,0x01,0xe8,
0xc2,0x7f,0x00,0xe8,0xa5,0x00,0xff,0xe7,0x2a,0x67,0x02,0xe8,0x9f,0x3c,0x8e,0xa7,
0xfe,0xe7,0x8e,0xbc,0x02,0xe8,0xf4,0x00,0xa8,0x34,0xaa,0x67,0xfe,0xe7,0xaf,0xb4,
0x02,0xe8,0xee,0x00,0x2f,0x9f,0xaa,0x67,0xaf,0xb4,0x9e,0x3c,0x3f,0xb7,0x00,0x17,
0xe5,0x00,0xfe,0xe7,0x9c,0x4f,0x02,0xe8,0xb2,0xcf,0x01,0xe2,0x02,0xe8,0x87,0x01,
0x0f,0xe2,0xa0,0x4f,0x02,0xe8,0xcf,0x3c,0x02,0xe8,0xa0,0x6f,0x3f,0x9f,0xaa,0x67,
0x81,0xc6,0xee,0x3e,0x1f,0x3f,0xbf,0xb6,0x8e,0xac,0x01,0xe0,0xaf,0x9e,0x3f,0x9f,
0xfe,0xe7,0xfe,0x3e,0x09,0xe8,0xcc,0x02,0x00,0x17,0xa6,0x4e,0x0d,0x3f,0x2e,0xe0,
0x26,0x6f,0x09,0xe8,0xa6,0x7f,0x02,0xe8,0x00,0xe8,0x82,0x17,0x02,0xe8,0xc2,0x7f,
0x01,0xe2,0x9c,0x4f,0xfe,0xe7,0xb2,0xcf,0x07,0x17,0xba,0x01,0x42,0x7f,0x00,0xe8,
0xb5,0x00,0xfe,0xe7,0x02,0xcc,0x00,0xe2,0x00,0xe2,0x19,0x01,0x1c,0x01,0x03,0xcc,
0x01,0xcc,0x00,0xe2,0xab,0x01,0xfe,0xe7,0xa6,0x4f,0x09,0xe8,0x00,0xe0,0x8c,0x27,
0x02,0xe8,0x8c,0x1f,0x09,0xe4,0xaa,0x7f,0x02,0xe8,0xa0,0x34,0x8f,0xbc,0xaa,0x67,
0x9d,0x00,0xfe,0xe7,0x8b,0x1f,0x00,0xe0,0x02,0xe8,0xf5,0x00,0x0f,0xa7,0xaa,0x67,
0x9e,0x3c,0xa8,0x34,0x02,0xe8,0xf5,0x00,0x0f,0xa7,0xaa,0x67,0x8f,0xbc,0x9e,0x3c,
0x02,0xe8,0x01,0x17,0x81,0x17,0xa6,0x7f,0x9e,0x6f,0x02,0xe8,0x42,0x7f,0x00,0xe8,
0x9c,0x4f,0x02,0xe8,0xb3,0xcf,0x01,0xe2,0x81,0x01,0xfe,0xe7,0x00,0xe8,0x88,0x17,
0xfd,0xe7,0xc2,0x7f,0x00,0xe2,0xfc,0x00,0x81,0x17,0x02,0xcc,0x02,0xe8,0x83,0x01,
0x02,0xe8,0x94,0x6f,0xfd,0xe7,0x9e,0x6f,0x02,0xe0,0xf2,0x00,0x0f,0xaf,0x84,0x17,
0x0f,0xaf,0x81,0xc7,0x86,0x17,0x02,0xe0,0x81,0xc7,0x0f,0xaf,0x00,0x17,0x0f,0xaf,
0x9d,0x67,0x00,0xe8,0x1f,0xb7,0x03,0xe0,0x02,0xe8,0x81,0x17,0xfd,0xe7,0x95,0x6f,
0x00,0xe2,0xde,0x00,0x85,0x01,0x01,0xcc,0xc7,0x6c,0x00,0xe8,0xd7,0x00,0xfd,0xe7,
0x02,0xcc,0x00,0xe2,0xd3,0x01,0xfd,0xe7,0x93,0x6c,0x02,0xe8,0xcf,0x00,0xfd,0xe7,
0x00,0xe2,0x7f,0xc4,0xfd,0xe7,0x04,0xcc,0x0a,0xea,0xca,0x02,0xff,0xe9,0x90,0x7f,
0x21,0x34,0xfe,0xc7,0x08,0x94,0x1f,0x3c,0x02,0xe8,0x1f,0x3c,0x02,0x3c,0xaa,0x67,
0x4e,0xff,0x0a,0x00,0x18,0x00,0x12,0x00,0x09,0xe4,0x1e,0x00,0xff,0xe7,0xa0,0x34,
0x0f,0xa7,0x98,0x00,0x9f,0x00,0xff,0xe7,0xfe,0xe7,0xa8,0x34,0x2f,0x9f,0xc1,0x00,
0xaf,0xb4,0x9e,0x3c,0xfe,0xe7,0x03,0x17,0x84,0x17,0xf3,0x00,0xc2,0x7f,0x00,0xe8,
0x20,0x6f,0x02,0xe8,0x00,0xe8,0x00,0x17,0xfd,0xe7,0x40,0x7f,0xb2,0x08,0xa0,0x00,
0x37,0x0c,0x00,0xe8,0x80,0x17,0x7c,0xc0,0x81,0x17,0x87,0x6f,0x1b,0x61,0x00,0xe8,
0xc8,0x6f,0x00,0xe8,0x00,0xe2,0x82,0xa7,0x9e,0x27,0x81,0xc7,0x7e,0x17,0x82,0xa7,
0x82,0xbf,0xde,0x3f,0x87,0x6f,0xf2,0x8f,0x9d,0x4f,0x02,0xe8,0x87,0x4f,0x84,0x2f,
0x9c,0x6f,0x02,0xe8,0x9d,0x4f,0x02,0xe8,0x6f,0x3c,0x07,0x4f,0x5b,0xde,0xee,0x3c,
0x9d,0x4f,0x02,0xe8,0x02,0xe8,0x81,0xc7,0x02,0xe8,0x9d,0x6f,0x84,0x27,0x9e,0x4f,
0x0f,0xde,0x00,0x14,0x82,0xa7,0x72,0xac,0x00,0xe2,0xc1,0x37,0x8f,0x27,0x81,0xc7,
0x7d,0x17,0x82,0xa7,0x82,0xbf,0xde,0x3f,0x9d,0x4f,0x02,0xe8,0x02,0xe8,0x81,0xc7,
0x02,0xe8,0x9d,0x6f,0x6f,0x3c,0x9d,0x4f,0x72,0xac,0xfc,0xdd,0x61,0xe0,0x88,0x17,
0x04,0xc0,0x91,0x3f,0xa8,0x0b,0x00,0xf0,0x00,0x38,0x21,0x09,0x00,0xe8,0xbf,0x0e,
0xfe,0x16,0x1b,0x67,0xdd,0x3f,0xbe,0xa7,0x80,0x17,0xbe,0xbf,0x9d,0x6f,0x02,0xe8,
0x61,0xe0,0x90,0x17,0xad,0x0f,0x91,0x3f,0xb6,0x08,0x00,0x38,0x00,0xc0,0xff,0xe1,
0x84,0x4f,0x02,0xe8,0xe9,0x39,0x68,0x3a,0x8a,0x27,0xea,0x3a,0x8e,0x1c,0x00,0xe0,
0xa2,0xe0,0x20,0x15,0x06,0xd3,0x00,0x14,0x02,0xe8,0x80,0x17,0x01,0xe0,0x84,0x6f,
0xa1,0x00,0x00,0x13,0x01,0xe2,0x63,0x39,0x82,0x05,0x00,0xc9,0xff,0xe3,0x66,0x39,
0x64,0x3c,0x7f,0xc1,0x00,0xe2,0x62,0x3d,0xe6,0xd2,0x84,0x7c,0x85,0x8f,0xa2,0x39,
0xff,0xc1,0xff,0xe3,0x00,0xe2,0x12,0x3a,0x00,0x17,0x84,0x7e,0x80,0xe1,0x01,0xc7,
0xff,0xe3,0x1d,0x8e,0x7e,0x39,0x7f,0xc7,0xcc,0x3f,0x0f,0xe2,0xff,0xc7,0x01,0xe2,
0x85,0xaf,0xf6,0x01,0x01,0xe0,0xe0,0x29,0x61,0x0b,0x00,0xc0,0x02,0xcc,0x00,0xea,
0x00,0xcc,0x02,0xe0,0x00,0xea,0x80,0x14,0x0b,0xe0,0x02,0xcd,0x28,0x3d,0x20,0xcd,
0x00,0xea,0x88,0xd5,0x00,0xe0,0x00,0xcc,0x02,0x24,0x00,0xcc,0x00,0x14,0x01,0x3c,
0xf1,0xd3,0x80,0x14,0x00,0x00,0x80,0x3a,0xb1,0x08,0x80,0x3a,0x60,0xe0,0xb3,0xd5,
0x00,0xe0,0x87,0x3f,0x01,0xe0,0x08,0x1f,0x00,0xe0,0x3f,0xbf,0x01,0xe0,0x0f,0x1f,
0x00,0xe0,0x4f,0xbf,0x02,0xe0,0x06,0x1f,0xe1,0x08,0x4f,0xbf,0xa0,0x1f,0x00,0xe0,
0x5f,0xb7,0x7f,0x17,0x03,0x17,0x1e,0xe0,0x00,0xe8,0x3f,0xb7,0x13,0x27,0x56,0x4f,
0x14,0x17,0xa0,0xe0,0x20,0xe0,0x7f,0xb7,0x01,0xe0,0x04,0x17,0x00,0xeb,0x1f,0xb7,
0x2f,0xa7,0x80,0xcf,0x5d,0x3f,0xf8,0x16,0x1f,0xa7,0x2f,0xbf,0x49,0xcf,0xc0,0xe0,
0x82,0x38,0x1f,0xbf,0x7f,0xb7,0x04,0x17,0x00,0xe0,0xf1,0x00,0x02,0xe0,0xa0,0x1e,
0x02,0xe2,0x9d,0x9f,0x95,0x27,0x80,0xc7,0x9d,0x9f,0x02,0xe0,0x7f,0x16,0xfb,0xe7,
0x6f,0x3f,0xc9,0x37,0x01,0xc7,0x00,0xe2,0x56,0x6f,0x00,0xe8,0x8f,0x3f,0x41,0xe0,
0x00,0xe2,0x0d,0xa7,0xa9,0x37,0x81,0xc7,0xce,0x3f,0x5c,0x3f,0x82,0x38,0x8d,0xbf,
0x00,0xe8,0x83,0x17,0xfc,0x00,0xd6,0x6f,0x18,0x8c,0x88,0x8f,0x01,0xe0,0x98,0x3f,
0x28,0xe0,0x7f,0x14,0x82,0x38,0x88,0x3f,0x00,0xe0,0xb4,0x08,0x68,0x39,0x83,0x19,
0x63,0x3c,0x98,0x39,0xf1,0xdf,0x69,0x3a,0x83,0x8f,0x04,0x24,0x61,0x0a,0x84,0xaf,
0x87,0x1f,0x00,0xe0,0x62,0x3c,0x1f,0x39,0x7a,0x24,0xe8,0xdf,0xf7,0x00,0x82,0x8f,
0xd6,0x4f,0x00,0xe8,0xb1,0x08,0x93,0x27,0x83,0x1c,0x00,0xe0,0x1f,0xe0,0x0e,0x15,
0x42,0xd2,0x00,0x14,0x87,0x1c,0x00,0xe0,0x22,0xe0,0x0e,0x15,0x3c,0xd2,0x20,0x14,
0xd9,0x7c,0x00,0xea,0xa1,0x08,0x00,0x14,0x82,0x38,0xd8,0x00,0xd6,0x4f,0x00,0xe8,
0x00,0xe0,0xfe,0x16,0x91,0x2f,0x21,0x1f,0xd8,0x4f,0x00,0xe8,0x01,0xe0,0xdd,0x3f,
0x61,0xe0,0xbe,0xaf,0x88,0xcf,0x82,0x3f,0x92,0x3f,0x61,0xe0,0x82,0x3f,0x61,0xe0,
0x61,0xe0,0x90,0xcf,0x82,0x38,0x92,0x3f,0xd9,0x4f,0x00,0xe8,0xbf,0x0e,0xf0,0x00,
0xc9,0x67,0x00,0xe8,0x00,0xe8,0x81,0xc7,0x00,0xe8,0xc9,0x7f,0x81,0xc7,0xca,0x67,
0xca,0x7f,0x00,0xe8,0xca,0x67,0x00,0xe8,0x84,0xcf,0x00,0xe2,0x84,0x17,0x84,0x05,
0xca,0x7f,0x00,0xe8,0x00,0xe0,0xdf,0x16,0xbe,0xa7,0x22,0x1f,0xbe,0xbf,0xdd,0x3f,
0x80,0x17,0x20,0xe0,0x91,0x3f,0x61,0xe0,0x00,0x38,0xad,0x0f,0x22,0x1f,0x00,0xe0,
0xbe,0xbf,0x91,0x17,0xae,0xa7,0xfc,0x16,0x82,0xcf,0xdd,0x3f,0x0a,0xe0,0xae,0xbf,
0x9e,0xb7,0x80,0x17,0x80,0x17,0x20,0xe0,0x91,0x3f,0x61,0xe0,0x82,0x3f,0x61,0xe0,
0x80,0xcf,0x20,0xe0,0x92,0x3f,0x61,0xe0,0x7c,0xc0,0x82,0x38,0x80,0x17,0xa0,0xe0,
0x00,0xe0,0x81,0x7f,0x01,0xe0,0xa0,0x1f,0xff,0xe3,0x1f,0x9f,0x01,0xe0,0x7b,0xc7,
0xff,0x16,0x1f,0xb7,0x9e,0x3e,0x01,0x67,0x7c,0x2f,0x81,0x7e,0x1f,0x9f,0x01,0xe0,
0x01,0xe0,0x04,0xcf,0x04,0xc0,0x1f,0xb7,0xff,0xe1,0x82,0x38,0x7f,0xc4,0xff,0x17,
0x7f,0xc4,0xff,0xe3,0x0a,0x01,0x7f,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x82,0x38,0xf3,0x00,0x00,0xe0,0xb3,0x08,
0x00,0x17,0x8a,0x1f,0x6f,0x3d,0x01,0x16,0x9e,0x3f,0x0d,0xe0,0x00,0xe2,0x01,0xc7,
0x0d,0xae,0x10,0xcf,0x03,0x17,0xfa,0x01,0x81,0x10,0x3f,0xaf,0x02,0x17,0x4f,0xaf,
0x00,0x17,0x6f,0xaf,0x8d,0x1d,0x00,0xe0,0x7f,0xaf,0x01,0xe0,0x6b,0x3c,0x80,0x17,
0x0d,0xe0,0xef,0x3c,0x0e,0xe0,0xa2,0x37,0x8e,0xbc,0x9d,0x3d,0x1f,0x3d,0x02,0xe0,
0x00,0x17,0x98,0x3e,0x1e,0x3d,0x0c,0xe0,0x82,0x89,0x0c,0x8e,0x86,0x03,0xfc,0x39,
0x0c,0xe0,0x8d,0xa1,0x43,0x3e,0xbe,0x30,0x01,0xc7,0x0d,0xbe,0x10,0xcf,0x00,0xe2,
0x81,0xc7,0xf2,0x01,0x90,0xcf,0x00,0xe2,0x00,0xe0,0xe5,0x01,0x00,0x17,0x89,0x1f,
0x0f,0xaf,0x06,0xe0,0x00,0xe0,0xe1,0x09,0x0f,0xe0,0x8d,0x1e,0x9f,0x3e,0x22,0x34,
0xb3,0x27,0x8d,0xa7,0x00,0xe0,0x83,0x3f,0x06,0xe0,0x89,0x1f,0x60,0xe0,0x0f,0x8f,
0x24,0x37,0x09,0x3e,0x0e,0xbe,0x1f,0x3f,0x0f,0x8f,0x06,0xe0,0x0a,0x3e,0x60,0xe0,
0x1f,0x3f,0x24,0x37,0x06,0xe0,0x1e,0xbe,0x60,0xe0,0x0f,0x8f,0x24,0x37,0x08,0x3e,
0x2e,0xbe,0x1f,0x3f,0x0f,0x8f,0x06,0xe0,0x02,0x3e,0x61,0xe0,0x1f,0x3f,0x24,0x37,
0x06,0xe0,0x3e,0xbe,0x01,0xc7,0x0f,0x8f,0x0f,0xaf,0x06,0xe0,0x61,0xe0,0x8d,0xa7,
0x81,0x17,0x92,0x3f,0xb8,0x37,0x08,0xe0,0x11,0x3c,0x61,0xe0,0x80,0x3f,0x60,0xe0,
0x60,0xe0,0x82,0xcf,0x00,0x3b,0x90,0x3f,0x00,0xe0,0x82,0x38,0x0e,0xe0,0x8d,0x1f,
0x9e,0x3f,0x22,0x34,0xa7,0x27,0x8f,0xa7,0x00,0xe0,0x83,0x3f,0x06,0xe0,0x89,0x1f,
0x7f,0xc7,0x0f,0x8f,0x0f,0xaf,0x06,0xe0,0x0f,0x8f,0x06,0xe0,0x1f,0x3f,0x24,0x37,
0x60,0xe0,0x0e,0xa7,0x06,0xe0,0x19,0x3f,0x24,0x37,0x0f,0x8f,0x1e,0xa7,0x1f,0x3f,
0x1a,0x3f,0x60,0xe0,0x0f,0x8f,0x06,0xe0,0x1f,0x3f,0x24,0x37,0x60,0xe0,0x2e,0xa7,
0x06,0xe0,0x18,0x3f,0x24,0x37,0x0f,0x8f,0xbf,0xa7,0x9e,0x3f,0x92,0x3f,0x61,0xe0,
0x82,0x38,0x00,0x3b,0x08,0xe0,0x81,0x17,0x61,0xe0,0xb8,0x37,0xfa,0x00,0x11,0x3c,
0x19,0x67,0x00,0xe8,0x8e,0xa7,0x7e,0xac,0x00,0xe2,0xce,0x37,0xfc,0x27,0x81,0xc7,
0x7f,0xe7,0x8e,0xa7,0xdd,0x3f,0xff,0x16,0x8e,0xbf,0x01,0x14,0x00,0xe8,0x82,0x38,
0x00,0x17,0x99,0x67,0x0f,0xa7,0x7f,0xaf,0x00,0xe2,0x4e,0x37,0x7c,0x27,0x01,0xc7,
0x7f,0xe7,0x0f,0xa7,0x5d,0x3f,0xff,0x16,0xff,0x8f,0x0f,0xbf,0x82,0x38,0x6f,0x3c,
0x99,0x67,0x00,0xe8,0x80,0x16,0x98,0x3c,0x7f,0x16,0x7f,0xe7,0x82,0x01,0x79,0x3c,
0xff,0xae,0x82,0x38,0x4e,0x37,0x0f,0xa7,0x01,0xc7,0x00,0xe2,0x0f,0xa7,0x7c,0x27,
0x0f,0xbf,0x5c,0x3f,0x80,0xe1,0x7f,0x8f,0xf1,0x00,0x18,0xaf,0x00,0xe8,0xb2,0x08,
0x7b,0x17,0x19,0x61,0x00,0xe2,0x82,0xa7,0xde,0x3f,0x01,0xcc,0x87,0x01,0x82,0xbf,
0xbf,0xdf,0x06,0x14,0x84,0xcf,0x82,0xa7,0x61,0x09,0x82,0xbf,0xfa,0x00,0x04,0x14,
0x00,0xe8,0xb2,0x08,0x7b,0x17,0x19,0x61,0x05,0x14,0x82,0xa7,0x82,0xbf,0xde,0x3f,
0xbe,0xdf,0xb0,0xdf,0x00,0xe2,0x82,0xa7,0x84,0xcf,0x01,0xc4,0x61,0x09,0x82,0xbf,
0x01,0x14,0xb2,0x08,0x00,0xe8,0xdc,0xdf,0x7b,0x17,0x19,0x61,0x01,0xe0,0x82,0xa7,
0xde,0x3f,0x10,0x14,0x9d,0xdf,0x82,0xbf,0x82,0xa7,0xab,0xdf,0x82,0xbf,0x84,0xcf,
0xb4,0x08,0x61,0x09,0xcb,0xdf,0x01,0x14,0x19,0x61,0x00,0xe8,0x02,0xa7,0xfb,0x11,
0x53,0x3f,0x05,0x14,0x8d,0xdf,0x02,0xbf,0x02,0xa7,0x9b,0xdf,0x04,0xcf,0x68,0x3a,
0x01,0x14,0x02,0xbf,0x82,0xa7,0xbc,0xdf,0xd3,0x3f,0x01,0x14,0x81,0xdf,0x82,0xbf,
0x01,0xe2,0x64,0x3c,0x7d,0xdf,0x03,0xc4,0x84,0xcf,0x82,0xa7,0xc1,0xdf,0x82,0xbf,
0x61,0x0a,0x7f,0x2c,0x1e,0x67,0x00,0xe8,0x81,0xcf,0x9e,0xa7,0x00,0xe8,0x9e,0xbf,
0x3f,0x9f,0x9d,0x67,0x00,0xcf,0x1e,0xe0,0x01,0xe0,0x3f,0xb7,0x80,0xe0,0x1f,0x9f,
0x01,0xe0,0x00,0xcf,0x61,0xe0,0x1f,0xb7,0xef,0xe7,0x82,0x3f,0xde,0x3f,0x7f,0x17,
0x92,0x3f,0x61,0xe0,0x99,0x67,0x00,0xe8,0x06,0x17,0x26,0xe0,0xc2,0x00,0x0f,0xbf,
0x00,0xe8,0xb2,0x08,0xfb,0x16,0x19,0x67,0x69,0x39,0x8e,0xa7,0x8e,0xbf,0xdd,0x3f,
0x08,0xe4,0x50,0xdf,0x01,0xe2,0x40,0x31,0x4b,0xdf,0x7f,0xc4,0x48,0x31,0x08,0xe0,
0x7f,0xc4,0x01,0xe2,0x62,0x3c,0x46,0xdf,0x7f,0xc4,0x01,0xe2,0xfe,0xe7,0x21,0x09,
0xb4,0x08,0xc1,0x00,0x01,0x14,0x68,0x3a,0xea,0x39,0x69,0x39,0xe4,0x3c,0x70,0xdf,
0xdf,0xdf,0x02,0x14,0x00,0xe8,0xe2,0x3c,0xff,0xc4,0x99,0x67,0x7f,0xe7,0x00,0x17,
0x73,0x3f,0x7f,0x16,0x0f,0xa7,0x95,0x01,0x0f,0xbf,0x04,0xcf,0x06,0x24,0x72,0xdf,
0xc9,0x67,0x00,0xe8,0xb2,0xcf,0x00,0xe2,0x00,0xe8,0xfa,0x05,0x00,0xe2,0xc9,0x67,
0x95,0x05,0xb2,0xcf,0x08,0x14,0x27,0xe0,0xfc,0xe7,0x21,0x0a,0x80,0xe0,0xe0,0x00,
0xff,0xae,0x99,0x8e,0xce,0x36,0x8f,0xa6,0x81,0xc6,0x00,0xe2,0x8f,0xa6,0xfc,0x26,
0xdc,0x3e,0x01,0xc7,0x7f,0xc7,0xff,0xe3,0xdc,0x00,0x8f,0xbe,0xb2,0x08,0x61,0x0a,
0x19,0x67,0x00,0xe8,0x8e,0xa7,0xfb,0x16,0xdd,0x3f,0x68,0x39,0x0b,0x14,0x8e,0xbf,
0x08,0xe4,0x00,0xdf,0x01,0xe2,0x40,0x31,0xfb,0xde,0x7f,0xc4,0x48,0x31,0x08,0xe0,
0x7f,0xc4,0x01,0xe2,0x62,0x3c,0xf6,0xde,0x7f,0xc4,0x01,0xe2,0x00,0x14,0xf2,0xde,
0xfd,0xe7,0x21,0x09,0xb3,0x08,0xef,0x00,0xea,0x39,0x69,0x39,0x62,0x3c,0xe1,0xdf,
0x07,0xdf,0xe3,0x3c,0x19,0x67,0x00,0xe8,0x8e,0xa7,0x01,0x14,0x8e,0xbf,0x84,0xcf,
0xb7,0x08,0xe1,0x09,0x38,0x0c,0x00,0xf8,0x00,0xe2,0xe8,0x39,0x01,0xe0,0xff,0xc1,
0x03,0xe0,0x80,0x13,0xff,0xe3,0xa3,0x3b,0xfa,0x39,0xff,0xc1,0x92,0xdf,0x83,0x04,
0x6a,0x39,0xa1,0x00,0x68,0x3a,0xe9,0x3a,0x13,0x3a,0x23,0x39,0xff,0xe3,0x63,0x3d,
0x95,0x39,0x7f,0xc1,0xe2,0x3a,0x87,0xdf,0x18,0xe0,0x64,0x3b,0x00,0xe2,0xa4,0x39,
0x09,0xf0,0xff,0xca,0x92,0x02,0x16,0x3c,0x47,0x31,0x0a,0xe0,0x27,0x35,0x09,0xe0,
0x00,0xc5,0xff,0xe5,0x19,0x3a,0x08,0xe0,0xff,0xe3,0x12,0x3d,0x93,0x3c,0x7f,0xc5,
0x01,0x14,0x5f,0x2d,0x28,0x0c,0x00,0xf8,0x66,0x3c,0xe1,0x0b,0xff,0xe1,0x67,0x3d,
0x68,0xdf,0x80,0xc2,0xff,0xc2,0xff,0xe3,0x00,0xc3,0x01,0xe0,0xb2,0x08,0xe1,0x00,
0x01,0x14,0x68,0x39,0x09,0xe0,0xd4,0xde,0x20,0x14,0x2c,0x31,0x00,0xe8,0x42,0xdf,
0x8e,0xa7,0x19,0x67,0x8e,0xbf,0x84,0xcf,0x06,0x24,0xdc,0xde,0xc9,0x67,0x00,0xe8,
0xf4,0xcf,0x03,0xe2,0x00,0xe8,0xfa,0x05,0x03,0xe2,0xc9,0x67,0x86,0x05,0xf4,0xcf,
0x08,0x14,0x27,0xe0,0xfb,0xe7,0x21,0x09,0x61,0x09,0xca,0x00,0x68,0x39,0xb2,0x08,
0xb5,0xde,0x01,0x14,0x20,0x31,0x09,0xe4,0x58,0x14,0x01,0xe0,0x00,0xe8,0x22,0xdf,
0x8e,0xa7,0x19,0x67,0x8e,0xbf,0x84,0xcf,0x06,0x24,0xbc,0xde,0xc9,0x67,0x00,0xe8,
0xdc,0xcf,0x0b,0xe2,0x00,0xe8,0xfa,0x05,0x0b,0xe2,0xc9,0x67,0x86,0x05,0xdc,0xcf,
0x08,0x14,0x27,0xe0,0xfb,0xe7,0x21,0x09,0x61,0x09,0xaa,0x00,0x01,0x14,0xb2,0x08,
0x00,0xe8,0x96,0xde,0x7b,0x17,0x19,0x61,0x00,0xe0,0x82,0xa7,0xde,0x3f,0x60,0x14,
0x57,0xde,0x82,0xbf,0x84,0xcf,0x82,0xa7,0x9b,0xde,0x82,0xbf,0x61,0x09,0x7f,0x2c,
0xc7,0x4f,0x00,0xe8,0x8a,0xcf,0x00,0xe2,0x00,0xe8,0x28,0x01,0x02,0xe0,0xc7,0x4f,
0x9f,0xe3,0x80,0x17,0x7e,0x3c,0x7f,0x17,0xb4,0x08,0xa3,0x02,0x40,0x67,0x00,0xe8,
0xfe,0x3f,0x6a,0x39,0x68,0x3a,0xe9,0x39,0x00,0xe0,0x8d,0x01,0x20,0x15,0x0e,0x1c,
0x20,0x15,0xd8,0xd1,0xff,0x14,0x01,0xe0,0x0b,0xd2,0x63,0x3c,0x02,0xe8,0x81,0x17,
0x05,0x21,0x84,0x6f,0xe3,0x3c,0x62,0x3d,0x4c,0xdf,0x64,0x3c,0x40,0x65,0x00,0xe8,
0x00,0xe8,0x1a,0x39,0x61,0x0a,0x40,0x79,0x80,0x17,0xa2,0xe0,0x82,0x38,0xdb,0x00,
0x85,0x1f,0x00,0xe0,0x84,0x1e,0x00,0xe0,0x7f,0x16,0x6f,0x3f,0x1f,0xae,0x80,0xe1,
0xfd,0x01,0xfd,0x3f,0x87,0x5f,0x01,0xe8,0x85,0x1c,0x00,0xe0,0xc8,0x37,0x0d,0xe0,
0xef,0x3e,0x8e,0xae,0x80,0xcf,0xfe,0xe5,0xae,0xaf,0xc8,0x37,0xff,0xc6,0x01,0xe2,
0xa0,0x4f,0x02,0xe8,0x20,0x15,0x9e,0xae,0x41,0xe0,0xce,0xaf,0x02,0xe8,0x8d,0x3e,
0xa0,0xe3,0xa0,0x4f,0x41,0xe0,0x00,0x14,0xbe,0xae,0x8f,0x3f,0xfe,0xe7,0xde,0xaf,
0xa0,0xe3,0x9a,0x00,0x1f,0x3c,0xa0,0x17,0xff,0x17,0x9f,0xe3,0xa8,0x05,0x7f,0x3c,
0x18,0x3d,0x0d,0xe0,0x80,0x17,0xc0,0xe3,0xa2,0x02,0xff,0x3e,0x87,0x5e,0x01,0xe8,
0xe0,0xce,0x1f,0xe2,0x01,0xe8,0x9d,0x02,0x9a,0x3f,0x86,0x5f,0xff,0xc7,0xff,0xe3,
0x86,0x77,0x01,0xe8,0xff,0x3e,0x0f,0x25,0xb1,0x08,0x8d,0x04,0x01,0xe8,0xfb,0xde,
0x01,0xe8,0x06,0x5f,0x7f,0x3f,0x87,0x5f,0xa1,0x08,0x84,0x01,0xb2,0x00,0xff,0xe7,
0x01,0xe8,0xe1,0x08,0x01,0xe8,0x06,0x5f,0x7f,0x3f,0x87,0x5f,0x82,0x38,0x78,0x01,
0xf0,0x17,0xff,0xe2,0x0f,0xbf,0x00,0x17,0xb1,0x08,0x82,0x38,0x2f,0xdc,0x4f,0xdc,
0xf0,0x17,0xff,0xe2,0x0f,0xbf,0x00,0x17,0x83,0xdc,0x46,0xde,0x16,0xdc,0x98,0xdc,
0xe1,0x08,0x00,0x3b,0x00,0xf8,0xb7,0x08,0xe1,0xe7,0x3c,0x0c,0xee,0xdf,0xaa,0x11,
0x80,0x13,0xff,0xe7,0x55,0x14,0xe0,0xf7,0x80,0x14,0xa0,0xf3,0x00,0x12,0x02,0xe0,
0x9b,0x62,0x00,0xe8,0x40,0xf0,0x00,0x11,0x01,0x13,0x65,0x3d,0x7c,0x4c,0x00,0xe8,
0x00,0xf8,0x04,0x2c,0xe1,0x0b,0x28,0x0e,0xc2,0x67,0x00,0xe8,0x00,0xe2,0xff,0xc7,
0xb9,0x02,0x87,0xcf,0x46,0x7f,0x1d,0xea,0x7e,0xc7,0xff,0xe9,0x9e,0x3f,0xa1,0x37,
0x9e,0x3f,0x8f,0x9f,0xa4,0x00,0x82,0x3f,0xf6,0x00,0x10,0x00,0x5e,0x00,0x16,0x01,
0x82,0x00,0x10,0x02,0x00,0xe8,0xc8,0x00,0x00,0xe8,0x42,0x79,0x01,0xe8,0xfd,0x4f,
0x84,0x27,0x08,0x71,0x00,0xe8,0xab,0xdc,0x00,0xe8,0x7d,0x69,0x6f,0x3f,0xc7,0x4f,
0xa6,0x67,0x02,0xe8,0x0b,0xcf,0x00,0xe2,0x88,0xc4,0xef,0x3c,0x00,0xe8,0x06,0x01,
0x00,0xe2,0x47,0x4f,0x9d,0x01,0x0a,0xcf,0x2f,0x9d,0x0f,0xa4,0x02,0xe8,0x1a,0xdf,
0x00,0xe8,0xa6,0x67,0x0f,0xa4,0x7d,0x6b,0xe4,0xd0,0xaf,0x9c,0x00,0xc4,0x20,0xe0,
0x08,0x74,0x01,0xe8,0x95,0x4f,0x02,0xe8,0xba,0x27,0xff,0xe7,0x08,0x14,0x27,0xe0,
0x00,0xe8,0x9d,0xdc,0x7f,0x17,0x9d,0x67,0x3f,0xaf,0x07,0xe0,0xaa,0x00,0xff,0xe7,
0x2f,0x9d,0x0f,0xa4,0xe4,0x00,0x6f,0xde,0x42,0x79,0x00,0xe8,0xfd,0x4f,0x00,0xe8,
0x08,0x71,0x01,0xe8,0x72,0xdc,0x84,0x27,0x7d,0x69,0x00,0xe8,0xa6,0x64,0x02,0xe8,
0x29,0x9d,0x09,0xa4,0x46,0xdf,0x88,0xc4,0x02,0xe8,0xd3,0x00,0x00,0xe8,0xa6,0x64,
0x64,0x3d,0x42,0x79,0x29,0xa4,0x80,0xe1,0x00,0xe8,0x47,0xde,0xd3,0x27,0xc8,0x4f,
0xa6,0x67,0x02,0xe8,0x8f,0x8f,0x01,0xe0,0xfa,0xaf,0x00,0xe8,0x02,0xe8,0xcc,0x00,
0x00,0xe8,0xa6,0x64,0x64,0x3d,0x42,0x79,0x0f,0xe8,0x89,0xa7,0x89,0xbf,0x99,0x3f,
0x29,0xa4,0x80,0xe1,0x00,0xe8,0x31,0xde,0xff,0xe7,0xc8,0x4f,0x02,0xe8,0xbd,0x27,
0x01,0xe0,0xa6,0x67,0xf5,0xaf,0x8f,0x8f,0xb6,0x00,0xff,0xe7,0x42,0x79,0x00,0xe8,
0x20,0x7d,0x02,0xea,0xa6,0x67,0x02,0xe8,0x08,0x71,0x01,0xe8,0xaf,0x9c,0x0f,0xa4,
0x34,0xdc,0x15,0xdb,0x08,0x74,0x01,0xf8,0xa6,0x00,0xff,0xe7,0x42,0x79,0x00,0xe8,
0x08,0x71,0x01,0xe8,0xc7,0x4f,0x00,0xe8,0x8a,0xcf,0x00,0xe2,0x00,0xe8,0x9e,0x01,
0x01,0xe2,0xc6,0x4f,0x97,0x01,0x80,0xcf,0x71,0xde,0x62,0x3c,0x90,0x15,0x00,0xf0,
0x6b,0x3c,0x40,0xe8,0x40,0xe8,0x4d,0xde,0x81,0xc7,0xeb,0x3f,0xef,0x3d,0x40,0xf0,
0xff,0xc5,0x01,0xf2,0x9d,0xcd,0x00,0xf2,0x10,0xdc,0xf4,0x01,0x88,0x71,0x01,0xe8,
0x82,0x00,0xff,0xe7,0xfa,0x00,0x7c,0xde,0xc7,0x4f,0x00,0xe8,0x8b,0xcf,0x00,0xe2,
0x00,0xe8,0xa6,0x01,0x01,0xe2,0xc6,0x4f,0x91,0x01,0x80,0xcf,0x85,0x15,0x00,0xf0,
0x6b,0x3c,0x40,0xe8,0x40,0xe8,0x2d,0xde,0x81,0xc7,0xeb,0x3f,0xef,0x3d,0x40,0xf0,
0xff,0xc5,0x01,0xf2,0x9d,0xcd,0x00,0xf2,0xe0,0x00,0xf4,0x01,0x84,0x15,0x00,0xf0,
0x6b,0x3c,0x40,0xe8,0x40,0xe8,0x1d,0xde,0x81,0xc7,0xeb,0x3f,0xef,0x3d,0x40,0xf0,
0xff,0xc5,0x01,0xf2,0xc0,0xcd,0x00,0xf2,0xd0,0x00,0xf4,0x01,0xc7,0x4f,0x00,0xe8,
0x8c,0xcf,0x00,0xe2,0x62,0x3c,0x84,0x01,0xc8,0x00,0x0b,0xde,0xc7,0x4f,0x00,0xe8,
0x8d,0xcf,0x00,0xe2,0x04,0x14,0x85,0x01,0x1f,0x14,0x03,0xde,0x00,0xe8,0xf6,0x00,
0x40,0xf0,0xc7,0x4f,0x01,0xf4,0x6f,0x3e,0x1b,0xe0,0x00,0xce,0x02,0xe8,0xaf,0x3b,
0x0f,0xf8,0x13,0x4f,0x01,0xe2,0x1b,0x3e,0xfe,0x3f,0xff,0xc7,0xaf,0x03,0xff,0xe7,
0x6c,0x3c,0x40,0xe8,0x40,0xe8,0xed,0xdd,0x81,0xc7,0xec,0x3f,0x6f,0x3e,0x40,0xf0,
0x7f,0xc6,0x01,0xf2,0x00,0xe8,0xed,0x00,0x1d,0x14,0x42,0x79,0x08,0x71,0x01,0xe8,
0x00,0x15,0xd4,0x00,0x81,0x17,0x81,0x00,0x2d,0xe1,0x00,0x17,0x84,0x26,0x19,0x3c,
0x8e,0x3f,0x2d,0xe1,0x00,0x17,0x88,0x2e,0x00,0xe2,0x8c,0x2f,0x68,0xe0,0x00,0xcd,
0x82,0x38,0x2e,0x39,0x80,0xcc,0x00,0xe2,0xa1,0x34,0x77,0x04,0xee,0x00,0xa1,0x37,
0x83,0x04,0x79,0x3c,0x4f,0x3f,0x29,0x3c,0xc1,0x34,0xc1,0x37,0x00,0x00,0xee,0x00,
0x00,0xe2,0xe8,0x3d,0xab,0x05,0x03,0xcd,0x49,0x3c,0x0c,0xe0,0x03,0xc6,0x00,0xe2,
0x7c,0xc5,0x26,0x2e,0x21,0x35,0x0c,0xe0,0x18,0xc6,0x00,0xe2,0x99,0xa7,0x80,0xe1,
0x22,0xe0,0x06,0x26,0xac,0x3e,0xf0,0x16,0x82,0x3e,0x6f,0x3f,0x93,0x06,0x70,0xc5,
0x19,0xa7,0x80,0xe1,0x9b,0xbf,0x80,0xe1,0x99,0xa7,0x80,0xe1,0x1b,0xbf,0x80,0xe1,
0x19,0xa7,0x80,0xe1,0x9b,0xbf,0x80,0xe1,0x99,0xa7,0x80,0xe1,0x80,0xe1,0x70,0xc5,
0x6f,0x06,0x1b,0xbf,0x9b,0xbf,0x80,0xe1,0x03,0xc5,0x00,0xe2,0x87,0x06,0x7f,0xc5,
0x19,0x86,0x80,0xe1,0x80,0xe1,0x7f,0xc5,0x7b,0x06,0x1b,0xae,0x00,0x00,0x82,0x38,
0x03,0xcd,0x00,0xe2,0x01,0xe2,0xaf,0x05,0x0c,0xe0,0xff,0xc4,0xcc,0x3c,0xa8,0x34,
0xa0,0x34,0x0c,0xe4,0x41,0xe0,0xcc,0x3c,0x00,0xe2,0x48,0x3e,0x0b,0xe0,0x03,0xc6,
0x0d,0xe0,0x18,0x3e,0x6d,0x3e,0x2c,0x3d,0x0c,0xc6,0x00,0xe2,0x23,0xe0,0x05,0x26,
0xac,0x3f,0xdc,0x17,0xff,0xe1,0x82,0x3f,0x8b,0x06,0xf0,0xc6,0x9b,0xbc,0x80,0xe1,
0x9b,0xbc,0x80,0xe1,0x9b,0xbc,0x80,0xe1,0x80,0xe1,0xf0,0xc6,0x77,0x06,0x9b,0xbc,
0xc0,0xe0,0x18,0x3d,0x9a,0xac,0xba,0xac,0x88,0xac,0xaa,0xac,0xa8,0xac,0x98,0xac,
0xe8,0x3d,0x82,0x38,0x85,0x06,0x7f,0xc5,0x9b,0xac,0x80,0xe1,0x7d,0x06,0x7f,0xc5,
0xb1,0x08,0x82,0x38,0x87,0x3c,0x60,0xe0,0x80,0x7f,0x04,0xea,0x60,0x15,0x00,0xe0,
0x87,0xdf,0x6f,0x3c,0x17,0x3c,0x60,0xe0,0x00,0x00,0xe1,0x08,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xac,0x04,0x02,0x00,0x90,0x05,0x02,0x00,
0x70,0x05,0x02,0x00,0xce,0x07,0x00,0x00,0xcc,0x04,0x02,0x00,0x4e,0x05,0x00,0x00,
0xec,0x04,0x02,0x00,0x20,0x05,0x02,0x00,0x60,0x02,0x02,0x00,0x6c,0x03,0x02,0x00,
0x30,0x05,0x02,0x00,0x78,0x04,0x02,0x00,0xdc,0x05,0x00,0x00,0x9c,0x04,0x02,0x00,
0x0b,0x80,0x06,0x80,0x00,0x00,0x00,0x01,0x18,0x01,0x02,0x00,0x00,0x00,0x00,0x01,
0xff,0x03,0xc6,0x80,0x00,0x00,0x70,0x72,0x00,0x0d,0x00,0x80,0x00,0x09,0x00,0x80,
0x00,0x07,0x00,0x80,0x00,0x06,0x00,0x80,0x00,0x04,0x00,0x80,0x00,0x02,0x00,0x80,
0x00,0x01,0x00,0x80,0x00,0x00,0x00,0x80,0x00,0x00,0x01,0x01,0x00,0x01,0x00,0x80,
0x00,0x04,0x00,0x80,0x00,0x02,0x00,0x80,
 
};

/*****************************************************************************
* Private constant and macro definitions using #define
*****************************************************************************/
#define FTS_MAX_LEN_APP_FT8006M    (94 * 1024)

#define MAX_BANK_DATA               0x80
#define MAX_GAMMA_LEN               0x180
#define LIC_CHECKSUM_H_OFF          0x00
#define LIC_CHECKSUM_L_OFF          0x01
#define LIC_LCD_ECC_H_OFF           0x04
#define LIC_LCD_ECC_L_OFF           0x05
#define LIC_ECC_REG_H_OFF           0x43D
#define LIC_ECC_REG_L_OFF           0x43C
#define LIC_REG_2                   0xB2

static int gamma_enable[] = { 0x040d, 0x91, 0x80, 0x00, 0x19, 0x01 };
union short_bits {
    u16 dshort;
    struct bits {
        u16 bit0: 1;
        u16 bit1: 1;
        u16 bit2: 1;
        u16 bit3: 1;
        u16 bit4: 1;
        u16 bit5: 1;
        u16 bit6: 1;
        u16 bit7: 1;
        u16 bit8: 1;
        u16 bit9: 1;
        u16 bit10: 1;
        u16 bit11: 1;
        u16 bit12: 1;
        u16 bit13: 1;
        u16 bit14: 1;
        u16 bit15: 1;
    } bits;
};

/*****************************************************************************
* Static function prototypes
*****************************************************************************/

/* calculate lcd init code ecc */
static int cal_lcdinitcode_ecc(u8 *buf, u16 *ecc_val)
{
    u32 bank_crc_en = 0;
    u8 bank_data[MAX_BANK_DATA] = { 0 };
    u16 bank_len = 0;
    u16 bank_addr = 0;
    u32 bank_num = 0;
    u16 file_len = 0;
    u16 pos = 0;
    int i = 0;
    union short_bits ecc;
    union short_bits ecc_last;
    union short_bits temp_byte;
    u8 bank_mapping[] = { 0x0, 0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9,
                          0xA, 0xB, 0xC, 0xD, 0xE, 0xF, 0x10, 0x11, 0x12, 0x13, 0x14, 0x18,
                          0x19, 0x1A, 0x1C, 0x1D, 0x1E, 0x1F, 0x20, 0x22, 0x23, 0x24
                        }; /* Actaul mipi bank */
    u8 banknum = 0;

    ecc.dshort = 0;
    ecc_last.dshort = 0;
    temp_byte.dshort = 0;

    file_len = (u16)(((u16)buf[2] << 8) + buf[3]);
    if ((file_len >= FTS_MAX_LEN_SECTOR) || (file_len <= FTS_MIN_LEN)) {
        FTS_ERROR("host lcd init code len(%x) is too large", file_len);
        return -EINVAL;
    }

    bank_crc_en = (u32)(((u32)buf[9] << 24) + ((u32)buf[8] << 16) + \
                        ((u32)buf[7] << 8) + (u32)buf[6]);
    FTS_INFO("lcd init code len=%x bank en=%x", file_len, bank_crc_en);

    pos = 0x0A; /*  addr of first bank */
    while (pos < file_len) {
        bank_addr = (u16)(((u16)buf[pos + 0] << 8 ) + buf[pos + 1]);
        bank_len = (u16)(((u16)buf[pos + 2] << 8 ) + buf[pos + 3]);
        /*         FTS_INFO("bank pos=%x bank_addr=%x bank_len=%x", pos, bank_addr, bank_len); */
        if (bank_len > MAX_BANK_DATA)
            return -EINVAL;
        memset(bank_data, 0, MAX_BANK_DATA);
        memcpy(bank_data, buf + pos + 4, bank_len);

        bank_num = (bank_addr - 0x8000) / MAX_BANK_DATA;
        /*         FTS_INFO("actual mipi bank number = %x", bank_num); */
        for (i = 0; i < sizeof(bank_mapping) / sizeof(u8); i++) {
            if (bank_num == bank_mapping[i]) {
                banknum = i;
                break;
            }
        }
        if (i >= sizeof(bank_mapping) / sizeof(u8)) {
            FTS_INFO("actual mipi bank(%d) not find in bank mapping, need jump", bank_num);
        } else {
            /*             FTS_INFO("bank number = %d", banknum); */
            if ((bank_crc_en >> banknum) & 0x01) {
                for (i = 0; i < MAX_BANK_DATA; i++) {
                    temp_byte.dshort = (u16)bank_data[i];
                    /*                     if(i == 0) */
                    /*                         FTS_INFO("data0=%x, %d %d %d %d %d %d %d %d", temp_byte.dshort, temp_byte.bits.bit0, */
                    /*                             temp_byte.bits.bit1, temp_byte.bits.bit2, temp_byte.bits.bit3, temp_byte.bits.bit4, */
                    /*                             temp_byte.bits.bit5, temp_byte.bits.bit6, temp_byte.bits.bit7); */

                    ecc.bits.bit0 = ecc_last.bits.bit8 ^ ecc_last.bits.bit9 ^ ecc_last.bits.bit10 ^ ecc_last.bits.bit11
                                    ^ ecc_last.bits.bit12 ^ ecc_last.bits.bit13 ^ ecc_last.bits.bit14 ^ ecc_last.bits.bit15
                                    ^ temp_byte.bits.bit0 ^ temp_byte.bits.bit1 ^ temp_byte.bits.bit2 ^ temp_byte.bits.bit3
                                    ^ temp_byte.bits.bit4 ^ temp_byte.bits.bit5 ^ temp_byte.bits.bit6 ^ temp_byte.bits.bit7;

                    ecc.bits.bit1 = ecc_last.bits.bit9 ^ ecc_last.bits.bit10 ^ ecc_last.bits.bit11 ^ ecc_last.bits.bit12
                                    ^ ecc_last.bits.bit13 ^ ecc_last.bits.bit14 ^ ecc_last.bits.bit15
                                    ^ temp_byte.bits.bit1 ^ temp_byte.bits.bit2 ^ temp_byte.bits.bit3 ^ temp_byte.bits.bit4
                                    ^ temp_byte.bits.bit5 ^ temp_byte.bits.bit6 ^ temp_byte.bits.bit7;

                    ecc.bits.bit2 = ecc_last.bits.bit8 ^ ecc_last.bits.bit9 ^ temp_byte.bits.bit0 ^ temp_byte.bits.bit1;

                    ecc.bits.bit3 = ecc_last.bits.bit9 ^ ecc_last.bits.bit10 ^ temp_byte.bits.bit1 ^ temp_byte.bits.bit2;

                    ecc.bits.bit4 = ecc_last.bits.bit10 ^ ecc_last.bits.bit11 ^ temp_byte.bits.bit2 ^ temp_byte.bits.bit3;

                    ecc.bits.bit5 = ecc_last.bits.bit11 ^ ecc_last.bits.bit12 ^ temp_byte.bits.bit3 ^ temp_byte.bits.bit4;

                    ecc.bits.bit6 = ecc_last.bits.bit12 ^ ecc_last.bits.bit13 ^ temp_byte.bits.bit4 ^ temp_byte.bits.bit5;

                    ecc.bits.bit7 = ecc_last.bits.bit13 ^ ecc_last.bits.bit14 ^ temp_byte.bits.bit5 ^ temp_byte.bits.bit6;

                    ecc.bits.bit8 = ecc_last.bits.bit0 ^ ecc_last.bits.bit14 ^ ecc_last.bits.bit15 ^ temp_byte.bits.bit6 ^ temp_byte.bits.bit7;

                    ecc.bits.bit9 = ecc_last.bits.bit1 ^ ecc_last.bits.bit15 ^ temp_byte.bits.bit7;

                    ecc.bits.bit10 = ecc_last.bits.bit2;

                    ecc.bits.bit11 = ecc_last.bits.bit3;

                    ecc.bits.bit12 = ecc_last.bits.bit4;

                    ecc.bits.bit13 = ecc_last.bits.bit5;

                    ecc.bits.bit14 = ecc_last.bits.bit6;

                    ecc.bits.bit15 = ecc_last.bits.bit7 ^ ecc_last.bits.bit8 ^ ecc_last.bits.bit9 ^ ecc_last.bits.bit10
                                     ^ ecc_last.bits.bit11 ^ ecc_last.bits.bit12 ^ ecc_last.bits.bit13 ^ ecc_last.bits.bit14 ^ ecc_last.bits.bit15
                                     ^ temp_byte.bits.bit0 ^ temp_byte.bits.bit1 ^ temp_byte.bits.bit2 ^ temp_byte.bits.bit3
                                     ^ temp_byte.bits.bit4 ^ temp_byte.bits.bit5 ^ temp_byte.bits.bit6 ^ temp_byte.bits.bit7;

                    ecc_last.dshort = ecc.dshort;

                }
            }
        }
        pos += bank_len + 4;
    }

    *ecc_val = ecc.dshort;
    return 0;
}

/* calculate lcd init code checksum */
static u16 cal_lcdinitcode_checksum(u8 *ptr , int length)
{
    /* CRC16 */
    u16 cfcs = 0;
    int i, j;

    if (length % 2) {
        return 0xFFFF;
    }

    for ( i = 0; i < length; i += 2 ) {
        cfcs ^= ((ptr[i] << 8) + ptr[i + 1]);
        for (j = 0; j < 16; j ++) {
            if (cfcs & 1) {
                cfcs = (u16)((cfcs >> 1) ^ ((1 << 15) + (1 << 10) + (1 << 3)));
            } else {
                cfcs >>= 1;
            }
        }
    }
    return cfcs;
}

static int print_data(u8 *buf, u32 len)
{
    int i = 0;
    int n = 0;
    u8 *p = NULL;

    p = kzalloc(len * 4, GFP_KERNEL);
    for (i = 0; i < len; i++) {
        n += snprintf(p + n, PAGE_SIZE, "%02x ", buf[i]);
    }

    FTS_DEBUG("%s", p);

    kfree(p);
    return 0;
}

static int read_3gamma(u8 **gamma, u16 *len)
{
    int ret = 0;
    int i = 0;
    int packet_num = 0;
    int packet_len = 0;
    int remainder = 0;
    u8 cmd[4] = { 0 };
    u32 addr = 0x01D000;
    u8 gamma_header[0x20] = { 0 };
    u16 gamma_len = 0;
    u16 gamma_len_n = 0;
    u16 pos = 0;
    bool gamma_has_enable = false;
    u8 *pgamma = NULL;
    int j = 0;
    u8 gamma_ecc = 0;

    cmd[0] = 0x03;
    cmd[1] = (u8)(addr >> 16);
    cmd[2] = (u8)(addr >> 8);
    cmd[3] = (u8)addr;
    ret = fts_write(cmd, 4);
    msleep(10);
    ret = fts_read(NULL, 0, gamma_header, 0x20);
    if (ret < 0) {
        FTS_ERROR("read 3-gamma header fail");
        return ret;
    }

    gamma_len = (u16)((u16)gamma_header[0] << 8) + gamma_header[1];
    gamma_len_n = (u16)((u16)gamma_header[2] << 8) + gamma_header[3];

    if ((gamma_len + gamma_len_n) != 0xFFFF) {
        FTS_INFO("gamma length check fail:%x %x", gamma_len, gamma_len);
        return -EIO;
    }

    if ((gamma_header[4] + gamma_header[5]) != 0xFF) {
        FTS_INFO("gamma ecc check fail:%x %x", gamma_header[4], gamma_header[5]);
        return -EIO;
    }

    if (gamma_len > MAX_GAMMA_LEN) {
        FTS_ERROR("gamma data len(%d) is too long", gamma_len);
        return -EINVAL;
    }

    *gamma = kzalloc(MAX_GAMMA_LEN, GFP_KERNEL);
    if (NULL == *gamma) {
        FTS_ERROR("malloc gamma memory fail");
        return -ENOMEM;
    }
    pgamma = *gamma;

    packet_num = gamma_len / 256;
    packet_len = 256;
    remainder = gamma_len % 256;
    if (remainder) packet_num++;
    FTS_INFO("3-gamma len:%d", gamma_len);
    cmd[0] = 0x03;
    addr += 0x20;
    for (i = 0; i < packet_num; i++) {
        addr += i * 256;
        cmd[1] = (u8)(addr >> 16);
        cmd[2] = (u8)(addr >> 8);
        cmd[3] = (u8)addr;
        if ((i == packet_num - 1) && remainder)
            packet_len = remainder;
        ret = fts_write(cmd, 4);
        msleep(10);
        ret = fts_read(NULL, 0, pgamma + i * 256, packet_len);
        if (ret < 0) {
            FTS_ERROR("read 3-gamma data fail");
            return ret;
        }
    }

    /*  ecc */
    for (j = 0; j < gamma_len; j++) {
        gamma_ecc ^= pgamma[j];
    }
    FTS_INFO("back_3gamma_ecc: 0x%x, 0x%x", gamma_ecc, gamma_header[0x04]);
    if (gamma_ecc != gamma_header[0x04]) {
        FTS_ERROR("back gamma ecc check fail:%x %x", gamma_ecc, gamma_header[0x04]);
        return -EIO;
    }

    /* check last byte is 91 80 00 19 01 */
    pos = gamma_len - 5;
    if ((gamma_enable[1] == pgamma[pos]) && (gamma_enable[2] == pgamma[pos + 1])
        && (gamma_enable[3] == pgamma[pos + 2]) && (gamma_enable[4] == pgamma[pos + 3])) {
        gamma_has_enable = true;
    }

    if (false == gamma_has_enable) {
        FTS_INFO("3-gamma has no gamma enable info");
        pgamma[gamma_len++] = gamma_enable[1];
        pgamma[gamma_len++] = gamma_enable[2];
        pgamma[gamma_len++] = gamma_enable[3];
        pgamma[gamma_len++] = gamma_enable[4];
        pgamma[gamma_len++] = gamma_enable[5];
    }

    *len = gamma_len;

    FTS_DEBUG("read 3-gamma data:");
    print_data(*gamma, gamma_len);

    return 0;
}

static int replace_3gamma(u8 *initcode, u8 *gamma, u16 gamma_len)
{
    u16 gamma_pos = 0;
    int gamma_analog[] = { 0x003A, 0x85, 0x00, 0x00, 0x2C, 0x2B };
    int gamma_digital1[] = { 0x0355, 0x8D, 0x00, 0x00, 0x80, 0x80 };
    int gamma_digital2[] = { 0x03d9, 0x8D, 0x80, 0x00, 0x14, 0x13 };

    /* Analog Gamma */
    if ((initcode[gamma_analog[0]] == gamma[gamma_pos])
        && (initcode[gamma_analog[0] + 1] == gamma[gamma_pos + 1])) {
        memcpy(initcode + gamma_analog[0] + 4 , gamma + gamma_pos + 4, gamma_analog[5]);
        gamma_pos += gamma_analog[5] + 4;
    } else
        goto find_gamma_bank_err;

    /* Digital1 Gamma */
    if ((initcode[gamma_digital1[0]] == gamma[gamma_pos])
        && (initcode[gamma_digital1[0] + 1] == gamma[gamma_pos + 1])) {
        memcpy(initcode + gamma_digital1[0] + 4 , gamma + gamma_pos + 4, gamma_digital1[5]);
        gamma_pos += gamma_digital1[5] + 4;
    } else
        goto find_gamma_bank_err;

    /* Digital2 Gamma */
    if ((initcode[gamma_digital2[0]] == gamma[gamma_pos])
        && (initcode[gamma_digital2[0] + 1] == gamma[gamma_pos + 1])) {
        memcpy(initcode + gamma_digital2[0] + 4 , gamma + gamma_pos + 4, gamma_digital2[5]);
        gamma_pos += gamma_digital2[5] + 4;
    } else
        goto find_gamma_bank_err;

    /* enable Gamma */
    if ((initcode[gamma_enable[0]] == gamma[gamma_pos])
        && (initcode[gamma_enable[0] + 1] == gamma[gamma_pos + 1])) {
        if (gamma[gamma_pos + 4])
            initcode[gamma_enable[0] + 4 + 15] |= 0x01;
        else
            initcode[gamma_enable[0] + 4 + 15] &= 0xFE;
        gamma_pos += 1 + 4;
    } else
        goto find_gamma_bank_err;

    FTS_DEBUG("replace 3-gamma data:");
    print_data(initcode, 1100);

    return 0;

find_gamma_bank_err:
    FTS_INFO("3-gamma bank(%02x %02x) not find",
             gamma[gamma_pos], gamma[gamma_pos + 1]);
    return -ENODATA;
}

/*
 * read_replace_3gamma - read and replace 3-gamma data
 */
static int read_replace_3gamma(u8 *buf, bool flag)
{
    int ret = 0;
    u16 initcode_ecc = 0;
    u16 initcode_checksum = 0;
    u8 *tmpbuf = NULL;
    u8 *gamma = NULL;
    u16 gamma_len = 0;
    u16 hlic_len = 0;
    int base_addr = 0;
    int i = 0;

    FTS_FUNC_ENTER();

    ret = read_3gamma(&gamma, &gamma_len);
    if (ret < 0) {
        FTS_INFO("no vaid 3-gamma data, not replace");
        if (gamma) {
            kfree(gamma);
            gamma = NULL;
        }
        return 0;
    }

    base_addr = 0;
    for (i = 0; i < 2; i++) {
        if (1 == i) {
            if (true == flag)
                base_addr = 0x7C0;
            else
                break;
        }

        tmpbuf = buf + base_addr;
        ret = replace_3gamma(tmpbuf, gamma, gamma_len);
        if (ret < 0) {
            FTS_ERROR("replace 3-gamma fail");
            goto REPLACE_GAMMA_ERR;
        }

        ret = cal_lcdinitcode_ecc(tmpbuf, &initcode_ecc);
        if (ret < 0) {
            FTS_ERROR("lcd init code ecc calculate fail");
            goto REPLACE_GAMMA_ERR;
        }
        FTS_INFO("lcd init code cal ecc:%04x", initcode_ecc);
        tmpbuf[LIC_LCD_ECC_H_OFF] = (u8)(initcode_ecc >> 8);
        tmpbuf[LIC_LCD_ECC_L_OFF] = (u8)(initcode_ecc);
        tmpbuf[LIC_ECC_REG_H_OFF] = (u8)(initcode_ecc >> 8);
        tmpbuf[LIC_ECC_REG_L_OFF] = (u8)(initcode_ecc);

        hlic_len = (u16)(((u16)tmpbuf[2]) << 8) + tmpbuf[3];
        initcode_checksum = cal_lcdinitcode_checksum(tmpbuf + 2, hlic_len - 2);
        FTS_INFO("lcd init code calc checksum:0x%04x", initcode_checksum);
        tmpbuf[LIC_CHECKSUM_H_OFF] = (u8)(initcode_checksum >> 8);
        tmpbuf[LIC_CHECKSUM_L_OFF] = (u8)(initcode_checksum);
    }

    if (gamma) {
        kfree(gamma);
        gamma = NULL;
    }

    FTS_FUNC_EXIT();
    return 0;

REPLACE_GAMMA_ERR:
    if (gamma) {
        kfree(gamma);
        gamma = NULL;
    }
    return ret;
}

/*
 * check_initial_code_valid - check initial code valid or not
 */
static int check_initial_code_valid(u8 *buf)
{
    int ret = 0;
    u16 initcode_ecc = 0;
    u16 buf_ecc = 0;
    u16 initcode_checksum = 0;
    u16 buf_checksum = 0;
    u16 hlic_len = 0;

    hlic_len = (u16)(((u16)buf[2]) << 8) + buf[3];
    if ((hlic_len >= FTS_MAX_LEN_SECTOR) || (hlic_len <= FTS_MIN_LEN)) {
        FTS_ERROR("host lcd init code len(%x) is too large", hlic_len);
        return -EINVAL;
    }

    initcode_checksum = cal_lcdinitcode_checksum(buf + 2, hlic_len - 2);
    buf_checksum = ((u16)((u16)buf[0] << 8) + buf[1]);
    FTS_INFO("lcd init code calc checksum:0x%04x,0x%04x", initcode_checksum, buf_checksum);
    if (initcode_checksum != buf_checksum) {
        FTS_ERROR("Initial Code checksum fail");
        return -EINVAL;
    }

    ret = cal_lcdinitcode_ecc(buf, &initcode_ecc);
    if (ret < 0) {
        FTS_ERROR("lcd init code ecc calculate fail");
        return ret;
    }
    buf_ecc = ((u16)((u16)buf[4] << 8) + buf[5]);
    FTS_INFO("lcd init code cal ecc:%04x, %04x", initcode_ecc, buf_ecc);
    if (initcode_ecc != buf_ecc) {
        FTS_ERROR("Initial Code ecc check fail");
        return -EINVAL;
    }

    return 0;
}

static bool fts_ft8006m_check_ide(u8 *buf, u32 len)
{
    u32 off = 0;

    FTS_INFO("Host FW file IDE version check");
    if (NULL == buf) {
        FTS_ERROR("buf is null fail");
        return false;
    }

    if (len < FTS_MAX_LEN_FILE) {
        FTS_INFO("buf len(%x) abnormal, no IDE", len);
        return false;
    }

    off = upgrade_func_ft8006m.paramcfgoff;
    if ((buf[off] == 'I') && (buf[off + 1] == 'D') && (buf[off + 2] == 'E'))
        return true;

    return false;
}

/* fts_ft8006m_write_ecc - write and check ecc
 * return 0 if success
 */
static int fts_ft8006m_write_ecc(u32 saddr, u8 *buf, u32 len)
{
    int ecc_in_host = 0;
    int ecc_in_tp = 0;

    ecc_in_host = fts_flash_write_buf(saddr, buf, len, 1);
    if (ecc_in_host < 0 ) {
        FTS_ERROR("write buffer to flash fail");
        return ecc_in_host;
    }

    /* ecc */
    ecc_in_tp = fts_fwupg_ecc_cal(saddr, len);
    if (ecc_in_tp < 0 ) {
        FTS_ERROR("ecc read fail");
        return ecc_in_tp;
    }

    FTS_INFO("ecc in tp:%x, host:%x", ecc_in_tp, ecc_in_host);
    if (ecc_in_tp != ecc_in_host) {
        FTS_ERROR("ecc check fail");
        return -EIO;
    }

    return 0;
}

/************************************************************************
 * Name: fts_ft8006m_param_flash
 * Brief: param upgrade(erase/write/ecc check)
 * Input: buf - all.bin
 *        len - len of all.bin
 * Output:
 * Return: return 0 if success, otherwise return error code
 ***********************************************************************/
static int fts_ft8006m_param_flash(u8 *buf, u32 len)
{
    int ret = 0;
    u8 cmd[2] = { 0 };
    u32 delay = 0;
    u32 start_addr = 0;
    u32 paramcfg_len = 0;
    u8 *tmpbuf = NULL;

    /* erase gesture & parameter sector */
    cmd[0] = FTS_CMD_FLASH_MODE;
    cmd[1] = FLASH_MODE_PARAM_VALUE;
    ret = fts_write(cmd, 2);
    if (ret < 0) {
        FTS_ERROR("upgrade mode(09) cmd write fail");
        goto PARAM_FLASH_ERR;
    }

    delay = FTS_ERASE_SECTOR_DELAY * 2;
    ret = fts_fwupg_erase(delay);
    if (ret < 0) {
        FTS_ERROR("erase cmd write fail");
        goto PARAM_FLASH_ERR;
    }

    /* write flash */
    start_addr = upgrade_func_ft8006m.paramcfgoff;
    paramcfg_len = FTS_MAX_LEN_SECTOR;
    tmpbuf = buf + start_addr;
    ret = fts_ft8006m_write_ecc(start_addr, tmpbuf, paramcfg_len);
    if (ret < 0 ) {
        FTS_ERROR("parameter configure area write fail");
        goto PARAM_FLASH_ERR;
    }

    start_addr = upgrade_func_ft8006m.paramcfg2off;
    paramcfg_len = FTS_MAX_LEN_SECTOR;
    tmpbuf = buf + start_addr;
    ret = fts_ft8006m_write_ecc(start_addr, tmpbuf, paramcfg_len);
    if (ret < 0 ) {
        FTS_ERROR("parameter2 configure area write fail");
        goto PARAM_FLASH_ERR;
    }

    return 0;

PARAM_FLASH_ERR:
    return ret;
}

/*
 * fts_get_hlic_ver - read host lcd init code version
 *
 * return 0 if host lcd init code is valid, otherwise return error code
 */
static int fts_ft8006m_get_hlic_ver(u8 *initcode)
{
    u8 *hlic_buf = initcode;
    u16 hlic_len = 0;
    u8 hlic_ver[2] = { 0 };

    hlic_len = (u16)(((u16)hlic_buf[2]) << 8) + hlic_buf[3];
    FTS_INFO("host lcd init code len:%x", hlic_len);
    if ((hlic_len >= FTS_MAX_LEN_SECTOR) || (hlic_len <= FTS_MIN_LEN)) {
        FTS_ERROR("host lcd init code len(%x) is too large", hlic_len);
        return -EINVAL;
    }

    hlic_ver[0] = hlic_buf[hlic_len];
    hlic_ver[1] = hlic_buf[hlic_len + 1];

    FTS_INFO("host lcd init code ver:%x %x", hlic_ver[0], hlic_ver[1]);
    if (0xFF != (hlic_ver[0] + hlic_ver[1])) {
        FTS_ERROR("host lcd init code version check fail");
        return -EINVAL;
    }

    return hlic_ver[0];
}

/************************************************************************
 * Name: fts_ft8006m_upgrade
 * Brief:
 * Input: buf - all.bin
 *        len - len of all.bin
 * Output:
 * Return: return 0 if success, otherwise return error code
 ***********************************************************************/
static int fts_ft8006m_upgrade(u8 *buf, u32 len)
{
    int ret = 0;
    u8 *tmpbuf = NULL;
    u8 cmd[2] = { 0 };
    u32 delay = 0;
    u32 start_addr = 0;
    u32 app_1_len = 0;
    u32 app_2_len = 0;
    u32 app_len = 0;
    u32 off = 0;

    FTS_INFO("app upgrade...");
    if (NULL == buf) {
        FTS_ERROR("fw file buffer is null");
        return -EINVAL;
    }

    if ((len < FTS_MIN_LEN) || (len > FTS_MAX_LEN_FILE)) {
        FTS_ERROR("fw file buffer len(%x) fail", len);
        return -EINVAL;
    }

    off = upgrade_func_ft8006m.appoff + FTS_APPINFO_OFF + FTS_APPINFO_APPLEN_OFF;
    app_1_len = (((u32)buf[off] << 8) + buf[off + 1]);
    off = upgrade_func_ft8006m.appoff + FTS_APPINFO_OFF + FTS_APPINFO_APPLEN2_OFF;
    app_2_len = (((u32)buf[off] << 8) + buf[off + 1]);
    app_len = (app_2_len << 16) + app_1_len;
    if ((app_len < FTS_MIN_LEN) || (app_len > FTS_MAX_LEN_APP_FT8006M)) {
        FTS_ERROR("app len(%x) fail", app_len);
        return -EINVAL;
    }

    /* enter into upgrade environment */
    ret = fts_fwupg_enter_into_boot();
    if (ret < 0) {
        FTS_ERROR("enter into pramboot/bootloader fail,ret=%d", ret);
        goto APP_UPG_ERR;
    }

    /* erase gesture & parameter sector */
    cmd[0] = FTS_CMD_FLASH_MODE;
    cmd[1] = FLASH_MODE_UPGRADE_VALUE;
    ret = fts_write(cmd, 2);
    if (ret < 0) {
        FTS_ERROR("upgrade mode(09) cmd write fail");
        goto APP_UPG_ERR;
    }

    delay = FTS_ERASE_SECTOR_DELAY * (app_len / FTS_MAX_LEN_SECTOR);
    ret = fts_fwupg_erase(delay);
    if (ret < 0) {
        FTS_ERROR("erase cmd write fail");
        goto APP_UPG_ERR;
    }

    /* write flash */
    start_addr = upgrade_func_ft8006m.appoff;
    tmpbuf = buf + start_addr;
    ret = fts_ft8006m_write_ecc(start_addr, tmpbuf, app_len);
    if (ret < 0 ) {
        FTS_ERROR("app buffer write fail");
        goto APP_UPG_ERR;
    }

    if (fts_ft8006m_check_ide(buf, len)) {
        FTS_INFO("erase and write param configure area");
        ret = fts_ft8006m_param_flash(buf, len);
        if (ret < 0 ) {
            FTS_ERROR("param upgrade(erase/write/ecc) fail");
            goto APP_UPG_ERR;
        }
    }

    FTS_INFO("upgrade success, reset to normal boot");
    ret = fts_fwupg_reset_in_boot();
    if (ret < 0) {
        FTS_ERROR("reset to normal boot fail");
    }
    msleep(400);
    return 0;

APP_UPG_ERR:
    return ret;
}

/************************************************************************
 * Name: fts_ft8006m_lic_upgrade
 * Brief:
 * Input: buf - all.bin
 *        len - len of all.bin
 * Output:
 * Return: return 0 if success, otherwise return error code
 ***********************************************************************/
static int fts_ft8006m_lic_upgrade(u8 *buf, u32 len)
{
    int ret = 0;
    u8 *tmpbuf = NULL;
    u8 cmd[2] = { 0 };
    u32 delay = 0;
    u32 start_addr = 0;
    u32 lic_len = 0;
    u8 val = 0;
    bool flag = false;

    FTS_INFO("LCD initial code upgrade...");
    if (NULL == buf) {
        FTS_ERROR("fw file buffer is null");
        return -EINVAL;
    }

    if ((len < FTS_MIN_LEN) || (len > FTS_MAX_LEN_FILE)) {
        FTS_ERROR("fw file buffer len(%x) fail", len);
        return -EINVAL;
    }

    ret = check_initial_code_valid(buf);
    if (ret < 0) {
        FTS_ERROR("initial code invalid, not upgrade lcd init code");
        return -EINVAL;
    }

    ret = fts_read_reg(LIC_REG_2, &val);
    FTS_DEBUG("lic flag:%x", val);
    if ((ret > 0) && (1 == val))
        flag = true;

    lic_len = FTS_MAX_LEN_SECTOR;
    /* remalloc memory for initcode, need change content of initcode afterwise */
    tmpbuf = kzalloc(lic_len, GFP_KERNEL);
    if (NULL == tmpbuf) {
        FTS_INFO("initial code buf malloc fail");
        return -EINVAL;
    }
    start_addr = upgrade_func_ft8006m.licoff;
    memcpy(tmpbuf, buf + start_addr, lic_len);

    /* enter into upgrade environment */
    ret = fts_fwupg_enter_into_boot();
    if (ret < 0) {
        FTS_ERROR("enter into pramboot/bootloader fail,ret=%d", ret);
        goto LIC_UPG_ERR;
    }

    /* 3-gamma remap */
    ret = read_replace_3gamma(tmpbuf, flag);
    if (ret < 0) {
        FTS_ERROR("replace 3-gamma fail, not upgrade lcd init code");
        goto LIC_UPG_ERR;
    }

    /* erase gesture & parameter sector */
    cmd[0] = FTS_CMD_FLASH_MODE;
    cmd[1] = FLASH_MODE_LIC_VALUE;
    ret = fts_write(cmd, 2);
    if (ret < 0) {
        FTS_ERROR("upgrade mode(09) cmd write fail");
        goto LIC_UPG_ERR;
    }

    delay = FTS_ERASE_SECTOR_DELAY * 1;
    ret = fts_fwupg_erase(delay);
    if (ret < 0) {
        FTS_ERROR("erase cmd write fail");
        goto LIC_UPG_ERR;
    }

    ret = fts_ft8006m_write_ecc(start_addr, tmpbuf, lic_len);
    if (ret < 0 ) {
        FTS_ERROR("LCD initial code write fail");
        goto LIC_UPG_ERR;
    }

    FTS_INFO("upgrade success, reset to normal boot");
    ret = fts_fwupg_reset_in_boot();
    if (ret < 0) {
        FTS_ERROR("reset to normal boot fail");
    }

    if (tmpbuf) {
        kfree(tmpbuf);
        tmpbuf = NULL;
    }

    msleep(400);
    return 0;

LIC_UPG_ERR:
    if (tmpbuf) {
        kfree(tmpbuf);
        tmpbuf = NULL;
    }
    return ret;
}

/************************************************************************
 * Name: fts_ft8006m_param_upgrade
 * Brief:
 * Input: buf - all.bin
 *        len - len of all.bin
 * Output:
 * Return: return 0 if success, otherwise return error code
 ***********************************************************************/
static int fts_ft8006m_param_upgrade(u8 *buf, u32 len)
{
    int ret = 0;

    FTS_INFO("parameter configure upgrade...");
    if (NULL == buf) {
        FTS_ERROR("fw file buffer is null");
        return -EINVAL;
    }

    if ((len < FTS_MIN_LEN) || (len > FTS_MAX_LEN_FILE)) {
        FTS_ERROR("fw file buffer len(%x) fail", len);
        return -EINVAL;
    }

    /* enter into upgrade environment */
    ret = fts_fwupg_enter_into_boot();
    if (ret < 0) {
        FTS_ERROR("enter into pramboot/bootloader fail,ret=%d", ret);
        goto PARAM_UPG_ERR;
    }

    ret = fts_ft8006m_param_flash(buf, len);
    if (ret < 0 ) {
        FTS_ERROR("param upgrade(erase/write/ecc) fail");
        goto PARAM_UPG_ERR;
    }

    FTS_INFO("upgrade success, reset to normal boot");
    ret = fts_fwupg_reset_in_boot();
    if (ret < 0) {
        FTS_ERROR("reset to normal boot fail");
    }

    msleep(400);
    return 0;

PARAM_UPG_ERR:
    return ret;
}

/************************************************************************
 * Name: fts_ft8006m_force_upgrade
 * Brief:
 * Input: buf - all.bin
 *        len - constant:128 * 1024
 * Output:
 * Return: return 0 if success, otherwise return error code
 ***********************************************************************/
static int fts_ft8006m_force_upgrade(u8 *buf, u32 len)
{
    int ret = 0;
    u8 *tmpbuf = NULL;
    u8 cmd[2] = { 0 };
    u32 delay = 0;
    u32 start_addr = 0;
    u32 tmplen = 0;

    FTS_INFO("fw force upgrade...");
    if (NULL == buf) {
        FTS_ERROR("fw file buffer is null");
        return -EINVAL;
    }

    if ((len < FTS_MIN_LEN) || (len > FTS_MAX_LEN_FILE)) {
        FTS_ERROR("fw file buffer len(%x) fail", len);
        return -EINVAL;
    }

    /* enter into upgrade environment */
    ret = fts_fwupg_enter_into_boot();
    if (ret < 0) {
        FTS_ERROR("enter into pramboot/bootloader fail,ret=%d", ret);
        goto FORCE_UPG_ERR;
    }

    /* erase 0k~116k flash */
    cmd[0] = FTS_CMD_FLASH_MODE;
    cmd[1] = FLASH_MODE_WRITE_FLASH_VALUE;
    ret = fts_write(cmd, 2);
    if (ret < 0) {
        FTS_ERROR("upgrade mode(09) cmd write fail");
        goto FORCE_UPG_ERR;
    }

    if (len > (116 * 1024)) {
        tmplen = 116 * 1024;
    } else {
        tmplen = len;
    }
    delay = FTS_ERASE_SECTOR_DELAY * (tmplen / FTS_MAX_LEN_SECTOR);
    ret = fts_fwupg_erase(delay);
    if (ret < 0) {
        FTS_ERROR("erase cmd write fail");
        goto FORCE_UPG_ERR;
    }

    /* write flash */
    start_addr = 0;
    tmpbuf = buf + start_addr;
    ret = fts_ft8006m_write_ecc(start_addr, tmpbuf, tmplen);
    if (ret < 0 ) {
        FTS_ERROR("app buffer write fail");
        goto FORCE_UPG_ERR;
    }

    if (fts_ft8006m_check_ide(buf, len)) {
        FTS_INFO("erase and write param configure area");
        ret = fts_ft8006m_param_flash(buf, len);
        if (ret < 0 ) {
            FTS_ERROR("param upgrade(erase/write/ecc) fail");
            goto FORCE_UPG_ERR;
        }
    }

    FTS_INFO("upgrade success, reset to normal boot");
FORCE_UPG_ERR:
    ret = fts_fwupg_reset_in_boot();
    if (ret < 0) {
        FTS_ERROR("reset to normal boot fail");
    }

    msleep(400);
    return ret;
}

struct upgrade_func upgrade_func_ft8006m = {
    .ctype = {0x07, 0x10},
    .fwveroff = 0x510E,
    .fwcfgoff = 0x0F80,
    .appoff = 0x5000,
    .licoff = 0x0000,
    .paramcfgoff = 0x1F000,
    .paramcfgveroff = 0x1F004,
    .paramcfg2off = 0x4000,
    .pramboot_supported = true,
    .pramboot = pb_file_ft8006m,
    .pb_length = sizeof(pb_file_ft8006m),
    .hid_supported = false,
    .upgrade = fts_ft8006m_upgrade,
    .get_hlic_ver = fts_ft8006m_get_hlic_ver,
    .lic_upgrade = fts_ft8006m_lic_upgrade,
    .param_upgrade = fts_ft8006m_param_upgrade,
    .force_upgrade = fts_ft8006m_force_upgrade,
};
